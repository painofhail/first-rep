function setBodyOverflow(e){const t=document.querySelector("body");"hidden"===e?t.style.overflow=e:(t.style.removeProperty("overflow"),t.removeAttribute("style"))}function createModal(e={}){const t=document.createElement("div");t.classList.add("custom-modal");const o=document.createElement("div");o.classList.add("custom-modal__inner");const s=document.createElement("img");s.classList.add("custom-modal__close"),s.setAttribute("src","dist/images/custom-modal/close.svg"),s.setAttribute("alt","close"),o.append(s);const c=document.createElement("div");c.classList.add("custom-modal__content");const n=document.createElement("h2");n.classList.add("custom-modal__header"),n.innerHTML="Это заголовок модального окна",c.append(n);const d=document.createElement("div");d.classList.add("custom-modal__body"),d.innerHTML="Это тело модального окна",c.append(d);const a=document.createElement("div");function l(e){(e.target.classList.contains("custom-modal")||e.target.classList.contains("custom-modal__close"))&&(t.classList.add("custom-modal--close"),setBodyOverflow("default"),setTimeout(()=>{t.remove()},300))}a.classList.add("custom-modal__footer"),a.innerHTML="Это подвал модального окна",c.append(a),o.append(c),t.append(o),document.querySelector("body").append(t),s.addEventListener("click",l),t.addEventListener("click",l)}fetch("https://jsonplaceholder.typicode.com/posts").then(e=>e.json()).then(e=>{e.forEach(e=>{let t=document.createElement("section");t.classList.add("random-text"),t.innerHTML=`<code>${JSON.stringify(e,null," ")}</code>`,document.querySelector("body .container").append(t)})}),document.querySelector("#show-modal").addEventListener("click",()=>{setBodyOverflow("hidden"),createModal()});const switchTheme=document.querySelector(".switch-theme"),body=document.querySelector("body");function changeLocalStorageTheme(){localStorage.getItem("theme")||localStorage.setItem("theme","light"),"dark"===localStorage.getItem("theme")&&toggleTheme()}function toggleTheme(){switchTheme.classList.toggle("dark-theme"),body.classList.toggle("dark-theme"),body.classList.contains("dark-theme")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}changeLocalStorageTheme(),switchTheme.addEventListener("click",toggleTheme);const progressBar=document.querySelector(".progress-bar .progress-bar__current");function fillProgressLine(){const e=document.body.scrollHeight,t=window.innerHeight,o=window.pageYOffset;progressBar.style.width=100*o/(e-t)+"%"}fillProgressLine(),window.addEventListener("scroll",fillProgressLine),window.addEventListener("resize",fillProgressLine);